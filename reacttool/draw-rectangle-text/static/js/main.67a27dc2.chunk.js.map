{"version":3,"sources":["ultis/index.js","component/DemoCanvas/index.js","component/TextBox/index.js","router/index.js","component/TextBox/renderInput.js","layout/index.js","App.js","reportWebVitals.js","index.js"],"names":["createStorage","key","store","JSON","parse","localStorage","getItem","save","setItem","stringify","get","set","value","remove","HTMLCanvasElement","DemoCanvas","imgUrl","React","useState","Canvas","setCanvas","refMouse","useRef","count","n","next","reset","CreatCount","CanvasStorage","useEffect","fabric","Image","fromURL","img","canvi","width","height","isDrawingMode","renderOnAddRemove","preserveObjectStacking","backgroundImage","on","e","handleMouseDown","handleMouseUp","handleMouseMove","dispose","buttons","target","name","top","left","split","number","textObj","getObjects","find","x","Object","assign","current","down","up","addRectText","pointer","pointerDown","pointerUp","Math","abs","y","min","index","rect","Rect","initialRect","text","Textbox","initialText","add","onClick","listObj","listRect","filter","includes","listText","ListInput","map","angle","zoomX","zoomY","forEach","style","border","id","fill","stroke","strokeWidth","strokeUniform","fontSize","editable","borderColor","hasControls","lockMovementX","lockMovementY","lockScalingX","lockScalingY","TextBox","handleDblclick","CanvasObjects","console","log","element","IText","listData","item","addText","canvas","backgroundColor","routes","path","component","CanvasStorege","position","src","alt","Header","Layout","Content","renderRoute","LayoutComponent","props","pathName","window","location","pathname","selectedKey","useMemo","findIndex","toString","className","theme","mode","defaultSelectedKeys","_","Item","to","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.67a27dc2.chunk.js","sourcesContent":["export const createStorage = (key) => {\r\n  const store = JSON.parse(localStorage.getItem(key)) ?? {};\r\n\r\n  const save = () => {\r\n    localStorage.setItem(key, JSON.stringify(store));\r\n  }\r\n\r\n  const storage = {\r\n    get(key) {\r\n      return store[key]\r\n    },\r\n    set(key, value) {\r\n      store[key] = value;\r\n      save();\r\n    },\r\n    remove(key) {\r\n      delete store[key];\r\n      save();\r\n    }\r\n  }\r\n  return storage;\r\n}","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { createStorage } from '../../ultis';\r\n\r\nconst HTMLCanvasElement = 'canvas';\r\n\r\nfunction DemoCanvas({ imgUrl }) {\r\n  const [Canvas, setCanvas] = React.useState();\r\n  const refMouse = React.useRef({});\r\n  const count = CreatCount();\r\n  const CanvasStorage = createStorage('CanvasStorage');\r\n\r\n  React.useEffect(() => {\r\n    // Set CanvasInit\r\n    fabric.Image.fromURL(imgUrl, (img) => {\r\n      const canvi = new fabric.Canvas(HTMLCanvasElement, {\r\n        width: img.width,\r\n        height: img.height,\r\n        isDrawingMode: false,\r\n        renderOnAddRemove: true,\r\n        preserveObjectStacking: true,\r\n        backgroundImage: imgUrl,\r\n      });\r\n      canvi.on('mouse:down', (e) => handleMouseDown(e, refMouse, canvi));\r\n      canvi.on('mouse:up', (e) => handleMouseUp(e, refMouse, canvi));\r\n      canvi.on('mouse:move', (e) => handleMouseMove(e, refMouse, canvi));\r\n      setCanvas(canvi);\r\n    });\r\n\r\n    return () => {\r\n      if (Canvas) Canvas.dispose();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [imgUrl]);\r\n  //#region event handler\r\n  const handleMouseMove = (e, refMouse, canvi) => {\r\n    const buttons = e.e.buttons;\r\n    const { target } = e;\r\n    //when moving the rectangle\r\n    if (target && buttons === 1) {\r\n      const { name, top, left } = target;\r\n      const [type, number] = name.split('-');\r\n      //\r\n      const textObj = canvi.getObjects().find((x) => x.name === `text-${number}`);\r\n      //\r\n      textObj.set({ ...textObj, top, left });\r\n    }\r\n  };\r\n  const handleMouseDown = (e, refMouse, canvi) => {\r\n    Object.assign(refMouse.current, { down: e });\r\n  };\r\n  //\r\n  const handleMouseUp = (e, refMouse, canvi) => {\r\n    const down = refMouse.current.down;\r\n    const up = e;\r\n    //\r\n    if (!(down.target || up.target)) {\r\n      addRectText(canvi, down.pointer, up.pointer);\r\n    }\r\n    Object.assign(refMouse.current, { up: e });\r\n  };\r\n  //\r\n  const addRectText = (canvi, pointerDown, pointerUp) => {\r\n    const width = Math.abs(pointerUp.x - pointerDown.x);\r\n    const height = Math.abs(pointerUp.y - pointerDown.y);\r\n    const [top, left] = [Math.min(pointerDown.y, pointerUp.y), Math.min(pointerDown.x, pointerUp.x)]; //coordinates closest to the origin\r\n\r\n    if (!(width * height)) return null;\r\n    if (width < 50 && height < 30) return null; //Smallest size\r\n\r\n    const index = count.next();\r\n\r\n    const rect = new fabric.Rect({\r\n      name: `rect-${index}`,\r\n      width,\r\n      height,\r\n      top,\r\n      left,\r\n      ...initialRect,\r\n    });\r\n    //\r\n    const text = new fabric.Textbox('Text', {\r\n      name: `text-${index}`,\r\n      top,\r\n      left,\r\n      width,\r\n      ...initialText,\r\n    });\r\n    canvi.add(rect, text);\r\n  };\r\n  //\r\n  const handleSave = () => {\r\n    const listObj = Canvas.getObjects();\r\n    const listRect = listObj.filter((x) => x.name.includes('rect'));\r\n    const listText = listObj.filter((x) => x.name.includes('text'));\r\n\r\n    const ListInput = listRect.map(({ top, left, width, height, angle, zoomX, zoomY }, index) => ({\r\n      top,\r\n      left,\r\n      width: width * zoomX,\r\n      height: height * zoomY,\r\n      angle,\r\n    }));\r\n    listText.forEach(({ text }, index) => {\r\n      Object.assign(ListInput[index], { text });\r\n    });\r\n    CanvasStorage.set('ListInput', ListInput);\r\n    // CanvasStorage.set('CanvasObjects', Canvas.getObjects());\r\n  };\r\n  //#endregion event handler\r\n  return (\r\n    <div>\r\n      <button onClick={handleSave}>save</button>\r\n      <canvas style={{ border: '1px solid black' }} id={HTMLCanvasElement} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DemoCanvas;\r\n//*************** */\r\nfunction CreatCount() {\r\n  let n = 0;\r\n  return {\r\n    next: () => n++,\r\n    reset: () => (n = 0),\r\n  };\r\n}\r\n//#region initial data\r\nconst initialRect = {\r\n  fill: 'rgba(255,255,255,0.7)',\r\n  stroke: 'blue',\r\n  strokeWidth: 1,\r\n  strokeUniform: true,\r\n};\r\nconst initialText = {\r\n  fontSize: 24,\r\n  editable: true,\r\n  borderColor: 'blue',\r\n  // backgroundColor: 'rgba(255,255,255,0.9)',\r\n  hasControls: false,\r\n  lockMovementX: true,\r\n  lockMovementY: true,\r\n  lockScalingX: true,\r\n  lockScalingY: true,\r\n};\r\n//#region\r\n\r\n//\r\nconst addRect = (canvi, pointerDown, pointerUp) => {\r\n  const width = Math.abs(pointerUp.x - pointerDown.x);\r\n  const height = Math.abs(pointerUp.y - pointerDown.y);\r\n  const [top, left] = [Math.min(pointerDown.y, pointerUp.y), Math.min(pointerDown.x, pointerUp.x)]; //coordinates closest to the origin\r\n\r\n  if (!(width * height)) return null;\r\n\r\n  const rect = new fabric.Rect({ width, height, top, left, fill: 'transparent', stroke: 'blue', strokeWidth: 1, strokeUniform: true });\r\n  canvi.add(rect);\r\n  // canvi.renderAll();\r\n};\r\n","import React from 'react';\r\nimport { fabric } from 'fabric';\r\nimport { createStorage } from '../../ultis';\r\n\r\nconst HTMLCanvasElement = 'canvas-text-box';\r\n\r\nfunction TextBox({ imgUrl }) {\r\n  const [Canvas, setCanvas] = React.useState();\r\n  const CanvasStorage = createStorage('CanvasStorage');\r\n\r\n  React.useEffect(() => {\r\n    // Set CanvasInit\r\n    fabric.Image.fromURL(imgUrl, (img) => {\r\n      const canvi = new fabric.Canvas(HTMLCanvasElement, {\r\n        width: img.width,\r\n        height: img.height,\r\n        isDrawingMode: false,\r\n        renderOnAddRemove: true,\r\n        backgroundImage: imgUrl,\r\n      });\r\n      canvi.on('mouse:dblclick', (e) => handleDblclick(e, canvi));\r\n      const CanvasObjects = CanvasStorage.get('CanvasObjects');\r\n      if (CanvasObjects) {\r\n        console.log(CanvasObjects);\r\n        CanvasObjects.forEach((element) => {\r\n          var rect = new fabric.IText('Text Box', element);\r\n          canvi.add(rect);\r\n        });\r\n      }\r\n      setCanvas(canvi);\r\n    });\r\n\r\n    return () => {\r\n      if (Canvas) Canvas.dispose();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [imgUrl]);\r\n\r\n  const handleSave = () => {\r\n    const listData = Canvas.getObjects().map((item) => {\r\n      const { top, left, width, height, angle, text, zoomX, zoomY } = item;\r\n      return { top, left, width: width * zoomX, height: height * zoomY, angle, text };\r\n    });\r\n    CanvasStorage.set('ListInput', listData);\r\n    CanvasStorage.set('CanvasObjects', Canvas.getObjects());\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleSave}>save</button>\r\n      <canvas style={{ border: '1px solid black' }} id={HTMLCanvasElement} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TextBox;\r\n\r\n//event handler\r\nconst handleDblclick = (e, canvi) => {\r\n  const { pointer, target } = e;\r\n  if (target) return;\r\n  addText(canvi, pointer);\r\n};\r\n//Text\r\nconst addText = (canvas, pointer) => {\r\n  const { x, y } = pointer;\r\n  const text = new fabric.IText('Text Box', {\r\n    top: y,\r\n    left: x,\r\n    editable: true,\r\n    backgroundColor: '#fafafa',\r\n    borderColor: 'blue',\r\n  });\r\n  canvas.add(text);\r\n};\r\n","import DemoCanvas from \"../component/DemoCanvas\";\r\nimport TextBox from \"../component/TextBox\";\r\nimport RenderInput from \"../component/TextBox/renderInput\";\r\n\r\nconst routes = [\r\n  {\r\n    name: 'Textbox',\r\n    path: '/',\r\n    component: TextBox\r\n  },\r\n  {\r\n    name: 'Canvas',\r\n    path: '/canvas',\r\n    component: DemoCanvas\r\n  },\r\n  {\r\n    name: 'Kết quả',\r\n    path: '/render',\r\n    component: RenderInput,\r\n\r\n  },\r\n]\r\n\r\nexport default routes;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createStorage } from '../../ultis';\r\n\r\nconst RenderInput = ({ imgUrl }) => {\r\n  const CanvasStorege = createStorage('CanvasStorage');\r\n  const [ListInput, setListInput] = React.useState(CanvasStorege.get('ListInput') ?? []);\r\n\r\n  const renderListInput = () => {\r\n    return ListInput.map((item, index) => {\r\n      const { top, left, width, height, angle, text } = item;\r\n      console.log('🚀 ~ item', item);\r\n      return (\r\n        <div\r\n          key={index}\r\n          style={{ position: 'absolute', top: `${top}px`, left: `${left}px`, width: `${width}px`, height: `${height}px`, backgroundColor: 'blue' }}\r\n        ></div>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ position: 'relative' }}>\r\n        <img src={imgUrl} alt=\"\" />\r\n        {/* <div style={{ position: 'absolute', backgroundColor: 'blue', width: 50, height: 50, top: '0px' }}></div> */}\r\n        {renderListInput()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nRenderInput.propTypes = {};\r\n\r\nexport default RenderInput;\r\n","import React from 'react';\r\nimport {\r\n  Link,\r\n  Routes,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport routes from '../router';\r\nimport { Layout, Menu } from 'antd';\r\nimport './styles.css';\r\n\r\nconst { Header, Content } = Layout;\r\nconst renderRoute = (item, index) => {\r\n  return <Route key={index} path={item.path} element={<item.component imgUrl=\"image/1.jpg\" />} />\r\n}\r\n\r\nconst LayoutComponent = props => {\r\n\r\n  const pathName = window.location.pathname\r\n  const selectedKey = React.useMemo(() => {\r\n    return routes.findIndex(x => x.path === pathName).toString();\r\n  }, [pathName])\r\n\r\n  return (\r\n    <Layout className='layout'>\r\n      <Header>\r\n        <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={[selectedKey]}>\r\n          {routes.map((_, index) => {\r\n            const key = index;\r\n            return <Menu.Item key={key}>\r\n              <Link to={_.path}>{_.name}</Link>\r\n            </Menu.Item>;\r\n          })}\r\n        </Menu>\r\n      </Header>\r\n      <Content>\r\n        <div className={'site-layout-content'}>\r\n          <Routes>\r\n            {routes.map(renderRoute)}\r\n          </Routes>\r\n        </div>\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default LayoutComponent;","\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport LayoutComponent from './layout';\r\n\r\nfunction App() {\r\n\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <LayoutComponent />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'antd/dist/antd.css'; // or 'antd/dist/antd.less'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}